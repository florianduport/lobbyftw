<div id="container" ng-controller="globalChatController">
  <input id="channelName" type="hidden" value="{{channel}}"/>
  <div id="overlayer"></div>
  <div id="sidebar" class="col-md-2">
    <div id="name">
      <h1><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Need/Last<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></h1>
    </div>
    <div id="channels">
      <h3>CHANNELS</h3>
      <ul>
        <li ng-repeat="channelEl in chat.channels track by $index" ng-class="isCurrentChannel(channelEl)">
          <div ng-if="channelEl.id == 0">
              <a href="/#/general"><span class="sharp">#</span> général</a>
          </div>
          <div ng-if="channelEl.id != 0">
              <a href="/#/room/{{channelEl.id}}"><span class="sharp">#</span> room {{$index}}</a>
          </div>
        </li>
      <ul>
    </div>
    <div id="connectedUsers">
      <h3>JOUEURS</h3>
      <ul>
        <li ng-repeat="user in chat.users track by $index">
          <br ng-show="$index > 0"/>
          <div class="onlineUser pull-left"></div><span class="pull-left">{{user.username}}</span>
        </li>
      </ul>
    </div>
    <div id="currentUser" class="col-md-12">
      <img src="{{user.avatar.medium}}" class="pull-left"/>
      <div class="details pull-left">
        <div>{{user.username}}</div>
        <div><a href="/logout">se déconnecter</a></div>
      </div>
    </div>
  </div>
  <div id="chatzone" class="col-md-10">
    <div id="channelName" ng-if="channel == 0"><h3># général</h3></div>
    <div id="channelName" ng-if="channel > 0"><h3># room {{channel}}</h3></div>
    <div id="chatzone_content">
      <div class="chatzone_message" ng-repeat="message in currentChannel.messages">
        <div class="profilePictureContainer pull-left">
          <img src="{{message.user.avatar.small}}" class="profilePicture "/>
        </div>
        <div class="pseudo"><a href="{{message.user.profile}}" target="_blank">{{message.user.username}}</a> <span class="time">{{message.displayDate}}</span></div>
        <div>
          <p class="msgLine" ng-repeat="msgLine in message.messages track by $index">{{msgLine}}</p>
        </div>
      </div>
    </div>
    <div id="textbox">
      <textarea autofocus rows="1"></textarea>
    </div>
  </div>
</div>

<script>
  $(document).ready(function(){
    var videoList = [
    'Bm_qKFWCg00',
    'Bm_qKFWCg00',
    'ORb54BFRUsY',
    'nDX3PPM2i0E',
    'b7KHPYd1SGQ',
    'qKjhG0F44MQ',
    'Vq6_SSKiL5o',
    'zNmInKCy4lE',
    'ORb54BFRUsY',
    'ORb54BFRUsY'
  ];
  var random = Math.floor((Math.random() * videoList.length-1) + 1);
    $('#content').tubular({videoId: videoList[random]});
  });
</script>
